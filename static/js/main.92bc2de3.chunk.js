(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{56:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var c=a(21),n=a.n(c),s=a(51),o=a(37),i=a(28),r=a(1),l=function(){return Object(r.jsxs)(o.a,{bg:"light",expand:"lg",children:[Object(r.jsx)(o.a.Brand,{href:"/honey-badger/#/",children:"Honey Badger"}),Object(r.jsx)(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(r.jsxs)(o.a.Collapse,{id:"basic-navbar-nav",children:[Object(r.jsx)(i.a,{children:Object(r.jsx)(i.a.Link,{href:"/honey-badger/#/heatmap",children:"Heatmap"})}),Object(r.jsx)(i.a,{children:Object(r.jsx)(i.a.Link,{href:"/honey-badger/#/stats",children:"Stats"})}),Object(r.jsx)(i.a,{children:Object(r.jsx)(i.a.Link,{href:"/honey-badger/#/live-logs",children:"Live logs"})})]})]})},d=a(8),j=function(){return Object(r.jsx)("div",{children:"This is the homepage"})},u=a(88),b=a(91),m=a(0),p=a(87),h=a(16),O=a.n(h),x=(a(71),function(){var e=Object(p.a)();return Object(m.useEffect)((function(){fetch("https://omf1aavgfc.execute-api.eu-west-2.amazonaws.com/prod/v1/heatmap-data").then((function(e){return e.json()})).then((function(e){return e.heatmap_data_points})).then((function(t){for(var a=t.map((function(e){return[e.lat,e.lon,e.count]})).sort((function(e,t){return e[2]-t[2]})),c=1,n=a[0][2],s=0;s<a.length;s++)a[s][2]>n&&c++,n=a[s][2],a[s][2]=c;var o=a[a.length-1][2],i=a.map((function(e){return[e[0],e[1],e[2]/o]}));O.a.heatLayer(i,{minOpacity:.4,maxZoom:3,radius:20,blur:15,gradient:{.4:"blue",.6:"lime",.8:"yellow",.9:"orange",1:"red"}}).addTo(e);var r=O.a.latLngBounds([]);i.forEach((function(e){r.extend([e[0],e[1]])})),e.fitBounds(r)})).catch(console.log)}),[e]),null}),g=(a(72),function(){return Object(r.jsxs)(u.a,{className:"heatmap",children:[Object(r.jsx)(x,{}),Object(r.jsx)(b.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})]})}),f=a(11),v=a(10),y=a(57),N=a(36),_=a(89),L=a(90),D=function(e){var t=Object(p.a)();return Object(m.useEffect)((function(){if(e.mapData&&0!==e.mapData.length){var a=Object(h.latLngBounds)([]);e.mapData.forEach((function(e){a.extend([e.lat,e.lon])})),t.fitBounds(a,{maxZoom:10})}}),[t,e.mapData]),null},S=a.p+"static/media/gold.7b323ec2.jpg",k=a.p+"static/media/silver.9a7c5b0e.jpg",w=a.p+"static/media/bronze.d1bf6559.jpg",B=(a(73),a(74),function(e){var t,a=Object(m.useState)(!1),c=Object(f.a)(a,2),n=c[0],s=c[1],o=Object(m.useState)(0),i=Object(f.a)(o,2),l=i[0],d=i[1],j=function(e){d(e),s(!0)},p=function(e){return e?Object.keys(e).map((function(t){return Object(r.jsxs)("p",{className:"modal-metadata-item",children:[e[t].title,": ",h(e[t].value)]},t)})):null},h=function(e){return Array.isArray(e)?e.sort((function(e,t){return e.localeCompare(t)})).join(", "):e};return Object(r.jsxs)("div",{className:"podium",children:[Object(r.jsxs)(y.a,{children:[Object(r.jsx)(v.a,{className:"podium-title-card",children:Object(r.jsx)(v.a.Body,{className:"podium-title-text",children:Object(r.jsx)(v.a.Text,{children:e.title})})}),Object(r.jsxs)(v.a,{className:"podium-data-card",onClick:function(){return j(0)},children:[Object(r.jsxs)(v.a.Body,{children:[Object(r.jsx)(v.a.Img,{className:"podium-medal-image",src:S}),Object(r.jsx)(v.a.Text,{className:"".concat(e.isDataLoaded?"":"loading"," ").concat("podium-text-"+e.type),children:e.data[0].value})]}),Object(r.jsx)(v.a.Footer,{className:"podium-gold-footer"})]}),Object(r.jsxs)(v.a,{className:"podium-data-card",onClick:function(){return j(1)},children:[Object(r.jsxs)(v.a.Body,{children:[Object(r.jsx)(v.a.Img,{className:"podium-medal-image",src:k}),Object(r.jsx)(v.a.Text,{className:"".concat(e.isDataLoaded?"":"loading"," ").concat("podium-text-"+e.type),children:e.data[1].value})]}),Object(r.jsx)(v.a.Footer,{className:"podium-silver-footer"})]}),Object(r.jsxs)(v.a,{className:"podium-data-card",onClick:function(){return j(2)},children:[Object(r.jsxs)(v.a.Body,{children:[Object(r.jsx)(v.a.Img,{className:"podium-medal-image",src:w}),Object(r.jsx)(v.a.Text,{className:"".concat(e.isDataLoaded?"":"loading"," ").concat("podium-text-"+e.type),children:e.data[2].value})]}),Object(r.jsx)(v.a.Footer,{className:"podium-bronze-footer"})]})]}),Object(r.jsxs)(N.a,{show:n,onHide:function(){return s(!1)},children:[Object(r.jsx)(N.a.Header,{closeButton:!0,children:Object(r.jsxs)(N.a.Title,{children:[e.title,": ",e.data[l].value]})}),Object(r.jsxs)(N.a.Body,{children:[p(e.data[l].metadata),(t=e.data[l].map_data,t&&0!==t.length?Object(r.jsxs)(u.a,{className:"statsmap",maxZoom:"18",children:[Object(r.jsx)(D,{mapData:t}),Object(r.jsx)(b.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),t.map((function(e,t){return Object(r.jsx)(_.a,{position:[e.lat,e.lon],children:e.metadata&&Object(r.jsx)(L.a,{children:p(e.metadata)})},t)}))]}):null)]})]})]})}),E=(a(75),function(){var e=Object(m.useState)(!1),t=Object(f.a)(e,2),a=t[0],c=t[1],n=Object(m.useState)({most_connections:[{},{},{}],most_active_cities:[{},{},{}],most_active_countries:[{},{},{}],most_ip_addresses:[{},{},{}],most_ingress_ports:[{},{},{}]}),s=Object(f.a)(n,2),o=s[0],i=s[1];return Object(m.useEffect)((function(){fetch("https://omf1aavgfc.execute-api.eu-west-2.amazonaws.com/prod/v1/stats-data").then((function(e){return e.json()})).then((function(e){i(e),c(!0)})).catch(console.log)}),[]),Object(r.jsxs)("div",{className:"stats-page",children:[Object(r.jsx)(B,{title:"Most connection attempts",data:o.most_connections,type:"number",isDataLoaded:a}),Object(r.jsx)(B,{title:"Most active city",data:o.most_active_cities,type:"string",isDataLoaded:a}),Object(r.jsx)(B,{title:"Most active country",data:o.most_active_countries,type:"string",isDataLoaded:a}),Object(r.jsx)(B,{title:"Most IP addresses used",data:o.most_ip_addresses,type:"number",isDataLoaded:a}),Object(r.jsx)(B,{title:"Most ingress ports tried",data:o.most_ingress_ports,type:"number",isDataLoaded:a})]})}),C=a(60),T=a(52),z=a(58),I=(a(56),function(e){var t=Object(m.useState)(!1),a=Object(f.a)(t,2),c=a[0],n=a[1];return Object(r.jsxs)("tr",{className:"live-log-entry ".concat(c?"open":"closed"),children:[Object(r.jsx)("td",{className:"live-log-entry-field-toggle",onClick:function(){n(!c)},children:c?"\u25bc":"\u25b6"}),Object(r.jsx)("td",{className:"live-log-entry-field timestamp",children:new Date(e.logEntry.timestamp).toLocaleString()}),Object(r.jsx)("td",{className:"live-log-entry-field ingress-port",children:e.logEntry.ingress_port}),Object(r.jsx)("td",{className:"live-log-entry-field ip-address",children:e.logEntry.ip_address}),Object(r.jsx)("td",{className:"live-log-entry-field location",children:e.logEntry.city+", "+e.logEntry.country}),Object(r.jsx)("td",{className:"live-log-entry-field input",children:e.logEntry.input})]})}),M=function(){var e=Object(m.useState)(null),t=Object(f.a)(e,2),a=t[0],c=t[1],n=Object(m.useState)(!1),s=Object(f.a)(n,2),o=s[0],i=s[1],l=Object(m.useState)("Disconnected"),d=Object(f.a)(l,2),j=d[0],u=d[1],b=Object(m.useState)([]),p=Object(f.a)(b,2),h=p[0],O=p[1];return Object(r.jsxs)("div",{className:"live-logs-page",children:[Object(r.jsxs)("div",{className:"live-logs-control-panel",children:[Object(r.jsx)(T.a,{className:"live-logs-control-panel-button",variant:"success",disabled:o,onClick:o?null:function(){var e=new WebSocket("wss://rgs4h7oyra.execute-api.eu-west-2.amazonaws.com/prod");c(e),i(!0),u("Connecting..."),e.onopen=function(){u("Connected")},e.onmessage=function(e){O((function(t){return[].concat(Object(C.a)(t),[JSON.parse(e.data)])}))},e.onclose=function(){u("Disconnected")}},children:"\u25b6"}),Object(r.jsx)(T.a,{className:"live-logs-control-panel-button",variant:"danger",disabled:!o,onClick:o?function(){a.close(),i(!1)}:null,children:"\u25a0"}),Object(r.jsxs)("div",{className:"live-logs-status",children:["Status: ",j]})]}),Object(r.jsx)("div",{className:"live-logs-log-section",children:Object(r.jsxs)(z.a,{className:"live-logs-table",striped:!0,bordered:!0,hover:!0,size:"sm",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{className:"live-log-entry-field-toggle"}),Object(r.jsx)("th",{className:"live-log-entry-field timestamp",children:"Time"}),Object(r.jsx)("th",{className:"live-log-entry-field ingress-port",children:"Port"}),Object(r.jsx)("th",{className:"live-log-entry-field ip-address",children:"IP"}),Object(r.jsx)("th",{className:"live-log-entry-field location",children:"Location"}),Object(r.jsx)("th",{className:"live-log-entry-field input",children:"Input"})]})}),Object(r.jsx)("tbody",{children:h.map((function(e,t){return Object(r.jsx)(I,{logEntry:e},t)}))})]})})]})},H=function(){return Object(r.jsxs)(d.c,{children:[Object(r.jsx)(d.a,{exact:!0,path:"/",component:j}),Object(r.jsx)(d.a,{exact:!0,path:"/heatmap",component:g}),Object(r.jsx)(d.a,{exact:!0,path:"/stats",component:E}),Object(r.jsx)(d.a,{exact:!0,path:"/live-logs",component:M})]})},A=(a(82),function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(l,{}),Object(r.jsx)(H,{})]})});a(83),a(84);n.a.render(Object(r.jsx)(s.a,{children:Object(r.jsx)(A,{})}),document.getElementById("root"))}},[[85,1,2]]]);
//# sourceMappingURL=main.92bc2de3.chunk.js.map