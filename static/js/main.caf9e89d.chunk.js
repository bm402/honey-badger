(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{65:function(t,e,a){},66:function(t,e,a){},67:function(t,e,a){},68:function(t,e,a){},75:function(t,e,a){},76:function(t,e,a){},78:function(t,e,a){"use strict";a.r(e);var c=a(21),n=a.n(c),s=a(48),o=a(36),i=a(35),r=a(1),d=function(){return Object(r.jsxs)(o.a,{bg:"light",expand:"lg",children:[Object(r.jsx)(o.a.Brand,{href:"/honey-badger/#/",children:"Honey Badger"}),Object(r.jsx)(o.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(r.jsxs)(o.a.Collapse,{id:"basic-navbar-nav",children:[Object(r.jsx)(i.a,{children:Object(r.jsx)(i.a.Link,{href:"/honey-badger/#/heatmap",children:"Heatmap"})}),Object(r.jsx)(i.a,{children:Object(r.jsx)(i.a.Link,{href:"/honey-badger/#/stats",children:"Stats"})})]})]})},j=a(8),l=function(){return Object(r.jsx)("div",{children:"This is the homepage"})},u=a(81),m=a(84),b=a(0),p=a.n(b),h=a(80),x=a(17),O=a.n(x),f=(a(64),function(){var t=Object(h.a)();return Object(b.useEffect)((function(){fetch("https://omf1aavgfc.execute-api.eu-west-2.amazonaws.com/prod/v1/heatmap-data").then((function(t){return t.json()})).then((function(t){return t.heatmap_data_points})).then((function(e){for(var a=e.map((function(t){return[t.lat,t.lon,t.count]})).sort((function(t,e){return t[2]-e[2]})),c=1,n=a[0][2],s=0;s<a.length;s++)a[s][2]>n&&c++,n=a[s][2],a[s][2]=c;var o=a[a.length-1][2],i=a.map((function(t){return[t[0],t[1],t[2]/o]}));O.a.heatLayer(i,{minOpacity:.4,maxZoom:3,radius:20,blur:15,gradient:{.4:"blue",.6:"lime",.8:"yellow",.9:"orange",1:"red"}}).addTo(t)})).catch(console.log)}),[t]),null}),g=(a(65),function(){return Object(r.jsxs)(u.a,{className:"heatmap",center:[0,0],zoom:2,children:[Object(r.jsx)(f,{}),Object(r.jsx)(m.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})]})}),v=a(20),y=a(10),_=a(52),N=a(34),D=a(82),L=a(83),B=function(t){var e=Object(h.a)();return Object(b.useEffect)((function(){if(t.mapData&&0!==t.mapData.length){var a=Object(x.latLngBounds)([]);t.mapData.forEach((function(t){a.extend([t.lat,t.lon])})),e.fitBounds(a,{maxZoom:10})}})),null},k=a.p+"static/media/gold.7b323ec2.jpg",w=a.p+"static/media/silver.9a7c5b0e.jpg",T=a.p+"static/media/bronze.d1bf6559.jpg",z=(a(66),a(67),function(t){var e,a=Object(b.useState)(!1),c=Object(v.a)(a,2),n=c[0],s=c[1],o=Object(b.useState)(0),i=Object(v.a)(o,2),d=i[0],j=i[1],l=function(t){j(t),s(!0)},p=function(t){return t?Object.keys(t).map((function(e){return Object(r.jsxs)("p",{className:"modal-metadata-item",children:[t[e].title,": ",h(t[e].value)]},e)})):null},h=function(t){return Array.isArray(t)?t.sort((function(t,e){return t.localeCompare(e)})).join(", "):t};return Object(r.jsxs)("div",{className:"podium",children:[Object(r.jsxs)(_.a,{children:[Object(r.jsx)(y.a,{className:"podium-title-card",children:Object(r.jsx)(y.a.Body,{className:"podium-title-text",children:Object(r.jsx)(y.a.Text,{children:t.title})})}),Object(r.jsxs)(y.a,{className:"podium-data-card",onClick:function(){return l(0)},children:[Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)(y.a.Img,{className:"podium-medal-image",src:k}),Object(r.jsx)(y.a.Text,{className:"".concat(t.isDataLoaded?"":"loading"," ").concat("podium-text-"+t.type),children:t.data[0].value})]}),Object(r.jsx)(y.a.Footer,{className:"podium-gold-footer"})]}),Object(r.jsxs)(y.a,{className:"podium-data-card",onClick:function(){return l(1)},children:[Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)(y.a.Img,{className:"podium-medal-image",src:w}),Object(r.jsx)(y.a.Text,{className:"".concat(t.isDataLoaded?"":"loading"," ").concat("podium-text-"+t.type),children:t.data[1].value})]}),Object(r.jsx)(y.a.Footer,{className:"podium-silver-footer"})]}),Object(r.jsxs)(y.a,{className:"podium-data-card",onClick:function(){return l(2)},children:[Object(r.jsxs)(y.a.Body,{children:[Object(r.jsx)(y.a.Img,{className:"podium-medal-image",src:T}),Object(r.jsx)(y.a.Text,{className:"".concat(t.isDataLoaded?"":"loading"," ").concat("podium-text-"+t.type),children:t.data[2].value})]}),Object(r.jsx)(y.a.Footer,{className:"podium-bronze-footer"})]})]}),Object(r.jsxs)(N.a,{show:n,onHide:function(){return s(!1)},children:[Object(r.jsx)(N.a.Header,{closeButton:!0,children:Object(r.jsxs)(N.a.Title,{children:[t.title,": ",t.data[d].value]})}),Object(r.jsxs)(N.a.Body,{children:[p(t.data[d].metadata),(e=t.data[d].map_data,e&&0!==e.length?Object(r.jsxs)(u.a,{className:"statsmap",maxZoom:"18",children:[Object(r.jsx)(B,{mapData:e}),Object(r.jsx)(m.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.map((function(t,e){return Object(r.jsx)(D.a,{position:[t.lat,t.lon],children:t.metadata&&Object(r.jsx)(L.a,{children:p(t.metadata)})},e)}))]}):null)]})]})]})}),M=(a(68),function(){var t=Object(b.useState)(!1),e=Object(v.a)(t,2),a=e[0],c=e[1],n=Object(b.useState)({most_connections:[{},{},{}],most_active_cities:[{},{},{}],most_active_countries:[{},{},{}],most_ip_addresses:[{},{},{}],most_ingress_ports:[{},{},{}]}),s=Object(v.a)(n,2),o=s[0],i=s[1];return p.a.useEffect((function(){fetch("https://omf1aavgfc.execute-api.eu-west-2.amazonaws.com/prod/v1/stats-data").then((function(t){return t.json()})).then((function(t){i(t),c(!0)})).catch(console.log)}),[]),Object(r.jsxs)("div",{className:"stats-page",children:[Object(r.jsx)(z,{title:"Most connection attempts",data:o.most_connections,type:"number",isDataLoaded:a}),Object(r.jsx)(z,{title:"Most active city",data:o.most_active_cities,type:"string",isDataLoaded:a}),Object(r.jsx)(z,{title:"Most active country",data:o.most_active_countries,type:"string",isDataLoaded:a}),Object(r.jsx)(z,{title:"Most IP addresses used",data:o.most_ip_addresses,type:"number",isDataLoaded:a}),Object(r.jsx)(z,{title:"Most ingress ports tried",data:o.most_ingress_ports,type:"number",isDataLoaded:a})]})}),S=function(){return Object(r.jsxs)(j.c,{children:[Object(r.jsx)(j.a,{exact:!0,path:"/",component:l}),Object(r.jsx)(j.a,{exact:!0,path:"/heatmap",component:g}),Object(r.jsx)(j.a,{exact:!0,path:"/stats",component:M})]})},C=(a(75),function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(d,{}),Object(r.jsx)(S,{})]})});a(76),a(77);n.a.render(Object(r.jsx)(s.a,{children:Object(r.jsx)(C,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.caf9e89d.chunk.js.map